# gRPC Gateway JSON REST

在 IRISHub v1.0.0 中，节点继续提供 REST 服务。但是在 v0.16.3 和更早版本中存在的路由现在被标记为已弃用，并且已通过 gRPC-gateway 添加了新路由。

## API 激活方式和配置

所有路由均通过 `~/.iris/config/app.toml` 中以下字段下配置：

- `api.enable = true|false` 字段定义是否启用 REST 服务，默认为 `true`。
- `api.address = {string}` 字段定义服务器应绑定到的地址（实际为端口，因为主机应保持在 `0.0.0.0`）。 默认为 `tcp://0.0.0.0:1317`。
- 在 `~/.iris/config/app.toml` 中定义了一些其他 API 配置选项并附有注释，请直接参考该文件。

### gRPC-gateway REST 路由

如果由于各种原因而不能使用 gRPC（例如，您正在构建 Web 应用，且浏览器不支持 gRPC 依赖的 HTTP2），则 IRISHub 会通过 gRPC-gateway 提供 REST 路由。

[gRPC-gateway](https://grpc-ecosystem.github.io/grpc-gateway/) 是将 gRPC 端点公开为 REST 端点的工具。对于 Protobuf 服务中定义的每个 RPC 端点，SDK提供了 REST 等效项。例如，可以通过 `/irismod.token.Query/Tokens` gRPC 端点，或者通过 gRPC-gateway `/irismod/token/tokens` REST 端点来查询 token 列表：两种方式返回的结果相同。对于 Protobuf 服务中定义的每个 RPC 方法，都定义了一个相应的 REST 端点作为可选项：

+++ https://github.com/irisnet/irismod/blob/master/proto/token/query.proto#L22

对于应用程序开发者，需要将 gRPC-gateway REST 路由连接到 REST 服务器，通过在 ModuleManager 上调用 `RegisterGRPCGatewayRoutes` 方法完成。

### Swagger

[Swagger](https://swagger.io/)（或 OpenAPIv2 ）规范文件在 API 服务器上的 `/swagger` 路径下。 Swagger 是一个开放的规范，描述服务器服务的 API 端点，包括描述、输入参数、返回类型以及有关每个端点的更多信息。

可以通过 `~/.iris/config/app.toml` 中的 `api.swagger` 字段配置启用 `/swagger` 端点，默认为 true。

对于应用程序开发人员，您可能希望基于自定义模块生成自己的 Swagger 定义。可以从 IRIShub 的 [Swagger 生成脚本](https://github.com/irisnet/irishub/blob/master/scripts/protoc-swagger-gen.sh)开始。

## API 端点

**IRISHub API 端点**

| API Endpoints                                                                                                                               | Description                                                                                            | Legacy REST Endpoint                                                              |
| :------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------- |
| `GET` `/cosmos/auth/v1beta1/accounts/{address}`                                                                                             | Account 返回账户信息                                                                                   | `GET` `/auth/accounts/{address}`                                                  |
| `GET` `/cosmos/auth/v1beta1/params`                                                                                                         | Params 查询所有参数                                                                                    |                                                                                   |
| `GET` `/cosmos/bank/v1beta1/balances/{address}`                                                                                             | AllBalances 查询某个账户的所有资产                                                                     | `GET` `/bank/balances/{address}`                                                  |
| `GET` `/cosmos/bank/v1beta1/balances/{address}/{denom}`                                                                                     | Balance queries the balance of a single coin for a single account                                      |                                                                                   |
| `GET` `/cosmos/bank/v1beta1/denoms_metadata`                                                                                                | DenomsMetadata queries the client metadata for all registered coin denominations                       |                                                                                   |
| `GET` `/cosmos/bank/v1beta1/denoms_metadata/{denom}`                                                                                        | DenomsMetadata queries the client metadata of a given coin denomination                                |                                                                                   |
| `GET` `/cosmos/bank/v1beta1/params`                                                                                                         | Params queries the parameters of x/bank module                                                         |                                                                                   |
| `GET` `/cosmos/bank/v1beta1/supply`                                                                                                         | TotalSupply queries the total supply of all coins                                                      | `GET` `/bank/total`                                                               |
| `GET` `/cosmos/bank/v1beta1/supply/{denom}`                                                                                                 | SupplyOf queries the supply of a single coin                                                           | `GET` `/bank/total/{denom}`                                                       |
| `GET` `/cosmos/distribution/v1beta1/community_pool`                                                                                         | CommunityPool queries the community pool coins                                                         | `GET` `/distribution/community_pool`                                              |
| `GET` `/cosmos/distribution/v1beta1/delegators/{delegator_address}/rewards`                                                                 | DelegationTotalRewards queries the total rewards accrued by a each validator                           | `GET` `/distribution/delegators/{delegatorAddr}/rewards`                          |
| `GET` `/cosmos/distribution/v1beta1/delegators/{delegator_address}/rewards/{validator_address}`                                             | DelegationRewards queries the total rewards accrued by a delegation                                    | `GET` `/distribution/delegators/{delegatorAddr}/rewards/{validatorAddr}`          |
| `GET` `/cosmos/distribution/v1beta1/delegators/{delegator_address}/validators`                                                              | DelegatorValidators queries the validators of a delegator                                              |                                                                                   |
| `GET` `/cosmos/distribution/v1beta1/delegators/{delegator_address}/withdraw_address`                                                        | DelegatorWithdrawAddress queries withdraw address of a delegator                                       | `GET` `/distribution/delegators/{delegatorAddr}/withdraw_address`                 |
| `GET` `/cosmos/distribution/v1beta1/params`                                                                                                 | Params queries params of the distribution module                                                       | `GET` `/distribution/parameters`                                                  |
| `GET` `/cosmos/distribution/v1beta1/validators/{validator_address}/commission`                                                              | ValidatorCommission queries accumulated commission for a validator                                     |                                                                                   |
| `GET` `/cosmos/distribution/v1beta1/validators/{validator_address}/outstanding_rewards`                                                     | ValidatorOutstandingRewards queries rewards of a validator address                                     | `GET` `/distribution/validators/{validatorAddr}/outstanding_rewards`              |
| `GET` `/cosmos/distribution/v1beta1/validators/{validator_address}/slashes`                                                                 | ValidatorSlashes queries slash events of a validator                                                   |                                                                                   |
| `GET` `/cosmos/evidence/v1beta1/evidence`                                                                                                   | AllEvidence queries all evidence                                                                       |                                                                                   |
| `GET` `/cosmos/evidence/v1beta1/evidence/{evidence_hash}`                                                                                   | Evidence queries evidence based on evidence hash                                                       |                                                                                   |
| `GET` `/cosmos/gov/v1beta1/params/{params_type}`                                                                                            | Params queries all parameters of the gov module                                                        | `GET` `/gov/parameters/{params_type}`                                             |
| `GET` `/cosmos/gov/v1beta1/proposals`                                                                                                       | Proposals queries all proposals based on given status                                                  | `GET` `/gov/proposals`                                                            |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}`                                                                                         | Proposal queries proposal details based on ProposalID                                                  | `GET` `/gov/proposals/{proposal-id}`                                              |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}/deposits`                                                                                | Deposits queries all deposits of a single proposal                                                     | `GET` `/gov/proposals/{proposal-id}/deposits`                                     |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}/deposits/{depositor}`                                                                    | Deposit queries single deposit information based proposalID, depositAddr                               | `GET` `/gov/proposals/{proposal-id}/deposits/{depositor}`                         |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}/tally`                                                                                   | TallyResult queries the tally of a proposal vote                                                       | `GET` `/gov/proposals/{proposal-id}/tally`                                        |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}/votes`                                                                                   | Votes queries votes of a given proposal                                                                | `GET` `/gov/proposals/{proposal-id}/votes`                                        |
| `GET` `/cosmos/gov/v1beta1/proposals/{proposal_id}/votes/{voter}`                                                                           | Vote queries voted information based on proposalID, voterAddr                                          | `GET` `/gov/proposals/{proposal-id}/votes/{voter}`                                |
| `GET` `/cosmos/params/v1beta1/params`                                                                                                       | Params queries a specific parameter of a module, given its subspace and key                            |                                                                                   |
| `GET` `/cosmos/slashing/v1beta1/params`                                                                                                     | Params queries the parameters of slashing module                                                       | `GET` `/slashing/parameters`                                                      |
| `GET` `/cosmos/slashing/v1beta1/signing_infos`                                                                                              | SigningInfos queries signing info of all validators                                                    | `GET` `/slashing/signing_infos`                                                   |
| `GET` `/cosmos/slashing/v1beta1/signing_infos/{cons_address}`                                                                               | SigningInfo queries the signing info of given cons address                                             |                                                                                   |
| `GET` `/cosmos/staking/v1beta1/delegations/{delegator_addr}`                                                                                | DelegatorDelegations queries all delegations of a given delegator address                              | `GET` `/staking/delegators/{delegatorAddr}/delegations`                           |
| `GET` `/cosmos/staking/v1beta1/delegators/{delegator_addr}/redelegations`                                                                   | Redelegations queries redelegations of given address                                                   | `GET` `/staking/redelegations`                                                    |
| `GET` `/cosmos/staking/v1beta1/delegators/{delegator_addr}/unbonding_delegations`                                                           | DelegatorUnbondingDelegations queries all unbonding delegations of a given delegator address           | `GET` `/staking/delegators/{delegatorAddr}/unbonding_delegations`                 |
| `GET` `/cosmos/staking/v1beta1/delegators/{delegator_addr}/validators`                                                                      | DelegatorValidators queries all validators info for given delegator address                            | `GET` `/staking/delegators/{delegatorAddr}/validators`                            |
| `GET` `/cosmos/staking/v1beta1/delegators/{delegator_addr}/validators/{validator_addr}`                                                     | DelegatorValidator queries validator info for given delegator validator pair                           | `GET` `/staking/delegators/{delegatorAddr}/validators/{validatorAddr}`            |
| `GET` `/cosmos/staking/v1beta1/historical_info/{height}`                                                                                    | HistoricalInfo queries the historical info for given height                                            |                                                                                   |
| `GET` `/cosmos/staking/v1beta1/params`                                                                                                      | Parameters queries the staking parameters                                                              | `GET` `/staking/parameters`                                                       |
| `GET` `/cosmos/staking/v1beta1/pool`                                                                                                        | Pool queries the pool info                                                                             | `GET` `/staking/pool`                                                             |
| `GET` `/cosmos/staking/v1beta1/validators`                                                                                                  | Validators queries all validators that match the given status                                          | `GET` `/staking/validators`                                                       |
| `GET` `/cosmos/staking/v1beta1/validators/{validator_addr}`                                                                                 | Validator queries validator info for given validator address                                           | `GET` `/staking/validators/{validatorAddr}`                                       |
| `GET` `/cosmos/staking/v1beta1/validators/{validator_addr}/delegations`                                                                     | ValidatorDelegations queries delegate info for given validator                                         | `GET` `/staking/validators/{validatorAddr}/delegations`                           |
| `GET` `/cosmos/staking/v1beta1/validators/{validator_addr}/delegations/{delegator_addr}`                                                    | Delegation queries delegate info for given validator delegator pair                                    | `GET` `/staking/delegators/{delegatorAddr}/delegations/{validatorAddr}`           |
| `GET` `/cosmos/staking/v1beta1/validators/{validator_addr}/delegations/{delegator_addr}/unbonding_delegation`                               | UnbondingDelegation queries unbonding info for given validator delegator pair                          | `GET` `/staking/delegators/{delegatorAddr}/unbonding_delegations/{validatorAddr}` |
| `GET` `/cosmos/staking/v1beta1/validators/{validator_addr}/unbonding_delegations`                                                           | ValidatorUnbondingDelegations queries unbonding delegations of a validator                             | `GET` `/staking/validators/{validatorAddr}/unbonding_delegations`                 |
| `GET` `/cosmos/upgrade/v1beta1/applied_plan/{name}`                                                                                         | AppliedPlan queries a previously applied upgrade plan by its name                                      |                                                                                   |
| `GET` `/cosmos/upgrade/v1beta1/current_plan`                                                                                                | CurrentPlan queries the current upgrade plan                                                           |                                                                                   |
| `GET` `/cosmos/upgrade/v1beta1/upgraded_consensus_state/{last_height}`                                                                      | UpgradedConsensusState 查询共识状态，该状态将用作此链的下一版本的受信任内核                            |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels`                                                                                                  | Channels queries all the IBC channels of a chain                                                       |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}`                                                                     | Channel queries an IBC Channel                                                                         |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/client_state`                                                        | ChannelClientState 查询与提供的 channel ID 关联的 channel 的客户端状态                                 |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/consensus_state/revision/{revision_number}/height/{revision_height}` | ChannelConsensusState 查询与提供的 channel ID 关联的 channel 的共识状态                                |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/next_sequence`                                                       | NextSequenceReceive returns the next receive sequence for a given channel                              |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_acknowledgements`                                             | PacketAcknowledgements returns all the packet acknowledgements associated with a channel               |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_acks/{sequence}`                                              | PacketAcknowledgement queries a stored packet acknowledgement hash                                     |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_commitments`                                                  | PacketCommitments returns all the packet commitments hashes associated with a channel                  |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_commitments/{packet_ack_sequences}/unreceived_acks`           | UnreceivedAcks returns all the unreceived IBC acknowledgements associated with a channel and sequences |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_commitments/{packet_commitment_sequences}/unreceived_packets` | UnreceivedPackets returns all the unreceived IBC packets associated with a channel and sequences       |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_commitments/{sequence}`                                       | PacketCommitment queries a stored packet commitment hash                                               |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/channels/{channel_id}/ports/{port_id}/packet_receipts/{sequence}`                                          | PacketReceipt queries if a given packet sequence has been received on the queried chain                |                                                                                   |
| `GET` `/ibc/core/channel/v1beta1/connections/{connection}/channels`                                                                         | ConnectionChannels queries all the channels associated with a connection end                           |                                                                                   |
| `GET` `/ibc/client/v1beta1/params`                                                                                                          | ClientParams queries all parameters of the ibc client                                                  |                                                                                   |
| `GET` `/ibc/core/client/v1beta1/client_states`                                                                                              | ClientStates queries all the IBC light clients of a chain                                              |                                                                                   |
| `GET` `/ibc/core/client/v1beta1/client_states/{client_id}`                                                                                  | ClientState queries an IBC light client                                                                |                                                                                   |
| `GET` `/ibc/core/client/v1beta1/consensus_states/{client_id}`                                                                               | ConsensusStates queries all the consensus state associated with a given client                         |                                                                                   |
| `GET` `/ibc/core/client/v1beta1/consensus_states/{client_id}/revision/{revision_number}/height/{revision_height}`                           | ConsensusState queries a consensus state associated with a client state at a given height              |                                                                                   |
| `GET` `/ibc/core/connection/v1beta1/client_connections/{client_id}`                                                                         | ClientConnections queries the connection paths associated with a client state                          |                                                                                   |
| `GET` `/ibc/core/connection/v1beta1/connections`                                                                                            | Connections queries all the IBC connections of a chain                                                 |                                                                                   |
| `GET` `/ibc/core/connection/v1beta1/connections/{connection_id}`                                                                            | Connection queries an IBC connection end                                                               |                                                                                   |
| `GET` `/ibc/core/connection/v1beta1/connections/{connection_id}/client_state`                                                               | ConnectionClientState queries the client state associated with the connection                          |                                                                                   |
| `GET` `/ibc/core/connection/v1beta1/connections/{connection_id}/consensus_state/revision/{revision_number}/height/{revision_height}`        | ConnectionConsensusState queries the consensus state associated with the connection                    |                                                                                   |
| `GET` `/ibc/applications/transfer/v1beta1/denom_traces`                                                                                     | DenomTraces queries all denomination traces                                                            |                                                                                   |
| `GET` `/ibc/applications/transfer/v1beta1/denom_traces/{hash}`                                                                              | DenomTrace queries a denomination trace information                                                    |                                                                                   |
| `GET` `/ibc/applications/transfer/v1beta1/params`                                                                                           | Params queries all parameters of the ibc-transfer module                                               |                                                                                   |
| `GET` `/irismod/token/params`                                                                                                               | Params queries the token parameters                                                                    |                                                                                   |
| `GET` `/irismod/token/tokens`                                                                                                               | Tokens returns the token list                                                                          |                                                                                   |
| `GET` `/irismod/token/tokens/{denom}`                                                                                                       | Token returns token with token name                                                                    |                                                                                   |
| `GET` `/irismod/token/tokens/{symbol}/fees`                                                                                                 | Fees returns the fees to issue or mint a token                                                         |                                                                                   |
| `GET` `/irismod/token/total_burn`                                                                                                           | TotalBurn returns all burnt coins                                                                      |                                                                                   |
| `GET` `/irismod/htlc/htlcs/{hash_lock}`                                                                                                     | Balance queries the balance of a single coin for a single account                                      |                                                                                   |
| `GET` `/irismod/coinswap/liquidities/{denom}`                                                                                               | Liquidity returns the total liquidity available for the provided denomination                          |                                                                                   |
| `GET` `/irismod/nft/collections/{denom_id}`                                                                                                 | Collection queries the NFTs of the specified denom                                                     |                                                                                   |
| `GET` `/irismod/nft/collections/{denom_id}/supply`                                                                                          | Supply queries the total supply of a given denom or owner                                              |                                                                                   |
| `GET` `/irismod/nft/denoms`                                                                                                                 | Denoms queries all the denoms                                                                          |                                                                                   |
| `GET` `/irismod/nft/denoms/{denom_id}`                                                                                                      | Denom queries the definition of a given denom                                                          |                                                                                   |
| `GET` `/irismod/nft/nfts`                                                                                                                   | Owner queries the NFTs of the specified owner                                                          |                                                                                   |
| `GET` `/irismod/nft/nfts/{denom_id}/{token_id}`                                                                                             | NFT queries the NFT for the given denom and token ID                                                   |                                                                                   |
| `GET` `/irismod/service/bindings/{service_name}`                                                                                            | Bindings returns all service Bindings with service name and owner                                      |                                                                                   |
| `GET` `/irismod/service/bindings/{service_name}/{provider}`                                                                                 | Binding returns service Binding with service name and provider                                         |                                                                                   |
| `GET` `/irismod/service/contexts/{request_context_id}`                                                                                      | RequestContext returns the request context                                                             |                                                                                   |
| `GET` `/irismod/service/definitions/{service_name}`                                                                                         | Definition returns service definition                                                                  |                                                                                   |
| `GET` `/irismod/service/fees/{provider}`                                                                                                    | EarnedFees returns the earned service fee of one provider                                              |                                                                                   |
| `GET` `/irismod/service/owners/{owner}/withdraw-address`                                                                                    | WithdrawAddress returns the withdraw address of the binding owner                                      |                                                                                   |
| `GET` `/irismod/service/params`                                                                                                             | Params queries the service parameters                                                                  |                                                                                   |
| `GET` `/irismod/service/requests/{request_context_id}/{batch_counter}`                                                                      | RequestsByReqCtx returns all requests of one service call batch                                        |                                                                                   |
| `GET` `/irismod/service/requests/{request_id}`                                                                                              | Request 返回服务请求                                                                                   |                                                                                   |
| `GET` `/irismod/service/requests/{service_name}/{provider}`                                                                                 | Request 返回一个服务中对一个 provider 的所有请求                                                       |                                                                                   |
| `GET` `/irismod/service/responses/{request_context_id}/{batch_counter}`                                                                     | Responses 返回一个服务请求批次的所有响应值                                                             |                                                                                   |
| `GET` `/irismod/service/responses/{request_id}`                                                                                             | Response 返回请求的响应值                                                                              |                                                                                   |
| `GET` `/irismod/service/schemas/{schema_name}`                                                                                              | Schema 返回 schema                                                                                     |                                                                                   |
| `GET` `/irismod/oracle/feeds`                                                                                                               | QueryFeedsRequest 查询 feed 列表                                                                       |                                                                                   |
| `GET` `/irismod/oracle/feeds/{feed_name}`                                                                                                   | Feed 查询 feed                                                                                         |                                                                                   |
| `GET` `/irismod/oracle/feeds/{feed_name}/values`                                                                                            | FeedValue 查询 feed 值                                                                                 |                                                                                   |
| `GET` `/irismod/random/queue`                                                                                                               | RandomRequestQueue 查询随机数请求队列                                                                  |                                                                                   |
| `GET` `/irismod/random/randoms/{req_id}`                                                                                                    | Random 查询随机数生成结果                                                                              |                                                                                   |
| `GET` `/irismod/record/records/{record_id}`                                                                                                 | Record 通过记录 ID 查询记录                                                                            |                                                                                   |
| `GET` `/irishub/mint/params`                                                                                                                | Parameters 查询 mint 模块参数                                                                          |                                                                                   |
| `GET` `/irishub/guardian/supers`                                                                                                            | Supers 返回所有超级账户                                                                                |                                                                                   |

**Tendermint API 端点**

| API 端点                                                       | 描述                                           | Legacy REST 端点                |
| :------------------------------------------------------------- | :--------------------------------------------- | :------------------------------ |
| `GET` `/cosmos/base/tendermint/v1beta1/blocks/latest`          | GetLatestBlock 返回最新高度的区块              | `GET` `/blocks/latest`          |
| `GET` `/cosmos/base/tendermint/v1beta1/blocks/{height}`        | GetBlockByHeight 查询指定高度的区块            | `GET` `/blocks/{height}`        |
| `GET` `/cosmos/base/tendermint/v1beta1/node_info`              | GetNodeInfo 查询当前节点信息                   | `GET` `/node_info`              |
| `GET` `/cosmos/base/tendermint/v1beta1/syncing`                | GetSyncing 查询节点同步信息                    | `GET` `/syncing`                |
| `GET` `/cosmos/base/tendermint/v1beta1/validatorsets/latest`   | GetLatestValidatorSet 查询当前区块验证人集合   | `GET` `/validatorsets/latest`   |
| `GET` `/cosmos/base/tendermint/v1beta1/validatorsets/{height}` | GetValidatorSetByHeight 查询指定高度验证人集合 | `GET` `/validatorsets/{height}` |
| `POST` `/cosmos/tx/v1beta1/simulate`                           | Simulate 模拟交易执行以预估 Gas 消耗           |                                 |
| `GET` `/cosmos/tx/v1beta1/txs`                                 | GetTxsEvent 通过事件筛选交易                   | `GET` `/txs`                    |
| `POST` `/cosmos/tx/v1beta1/txs`                                | BroadcastTx 广播交易                           | `POST` `/txs`                   |
| `GET` `/cosmos/tx/v1beta1/txs/{hash}`                          | GetTx 通过哈希查询交易                         | `GET` `/txs/{hash}`             |

## 构造和签名交易

使用 REST 不能构造和签名交易，只能广播交易。您可以使用 [gRPC 客户端](grpc-client.md) 构造和签名交易。

## 广播交易

使用 gRPC-gateway REST 端点 `cosmos/tx/v1beta1/txs` 广播交易可以通过发送 POST 请求来完成，如下所示，其中 `txBytes` 是已签名交易的 protobuf 编码的字节数组：

```bash
curl -X POST \
    -H "Content-Type: application/json" \
    -d'{"tx_bytes":"{{txBytes}}","mode":"BROADCAST_MODE_SYNC"}' \
    "localhost:1317/cosmos/tx/v1beta1/txs"
```

## 查询交易

使用 gRPC-gateway REST 端点查询事务可以通过发送 GET 请求来完成，示例如下所示：

- **Query tx by hash:** `/cosmos/tx/v1beta1/txs/{hash}`

    ```bash
    curl -X GET \
        -H "accept: application/json" \
        "http://localhost:1317/cosmos/tx/v1beta1/txs/{hash}"
    ```

- **Query tx by events:** `/cosmos/tx/v1beta1/txs`

    ``` bash
    curl -X GET \
        -H "accept: application/json" \
        "http://localhost:1317/cosmos/tx/v1beta1/txs?events={event_content}"
    ```
