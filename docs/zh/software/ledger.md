# Ledger Nano支持

## 关于分层确定性钱包的说明

分层确定性钱包是一种特殊的钱包，最初在比特币的[BIP32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)中详细说明，允许用户从单个种子中获取任意数量的帐户。让我们首先定义一些术语便于更好的理解：

- **钱包**: 从给定种子获得的帐户集合。
- **账号**: 一组公私钥对。 
- **私钥**: 私钥是用于签署消息的秘密信息。在区块链上下文中，私钥标识帐户的所有者。永远不应该向他人透露用户的私钥。
- **公钥**: 公钥是通过对私钥应用单向数学函数获得的一段信息。从它可以派生出一个地址。无法从公钥中找到私钥。
- **地址**: 地址是具有人类可读前缀的公共字符串，用于标识帐户。它是通过对公钥应用数学变换得到的。
- **数字签名**: 数字签名是一段加密信息，它在不透露私钥的情况下证明已批准的给定消息的给定私钥的所有者。
- **种子**: 和助记词一样。
- **助记词**: 助记词是一组单词序列，用作派生私钥的种子。助记符是每个钱包的核心。永远不要忘记。把它写在一张纸上，存放在安全的地方。如果你失去了它，就没有办法找回它。如果某人获得了对它的访问权，那么他就获得了对所有相关帐户的访问权。

分层确定性钱包的核心是种子。通过这个种子，用户可以确定地生成账号。要从种子生成账号，应用单向数学转换。要决定生成哪个帐户，用户指定一个`path`，通常是一个`integer`(`0`、`1`、`2`、……)。

例如，通过将`path`指定为`0`，钱包将从种子生成`私钥0`。然后，可以从`私钥0`生成`公钥0`。最后，可以从`公钥0`生成`地址0`。

```
     Account 0                         Account 1                         Account 2

+------------------+              +------------------+               +------------------+
|                  |              |                  |               |                  |
|    Address 0     |              |    Address 1     |               |    Address 2     |
|        ^         |              |        ^         |               |        ^         |
|        |         |              |        |         |               |        |         |
|        |         |              |        |         |               |        |         |
|        |         |              |        |         |               |        |         |
|        +         |              |        +         |               |        +         |
|  Public key 0    |              |  Public key 1    |               |  Public key 2    |
|        ^         |              |        ^         |               |        ^         |
|        |         |              |        |         |               |        |         |
|        |         |              |        |         |               |        |         |
|        |         |              |        |         |               |        |         |
|        +         |              |        +         |               |        +         |
|  Private key 0   |              |  Private key 1   |               |  Private key 2   |
|        ^         |              |        ^         |               |        ^         |
+------------------+              +------------------+               +------------------+
         |                                 |                                  |
         |                                 |                                  |
         |                                 |                                  |
         +--------------------------------------------------------------------+
                                           |
                                           |
                                 +---------+---------+
                                 |                   |
                                 |  Mnemonic (Seed)  |
                                 |                   |
                                 +-------------------+
```

从种子中推导出帐号的过程是确定性的。这意味着给定相同的路径，派生的私钥将始终相同。

存储在帐户中的资金由私钥控制。此私钥是使用助记词通过单向函数生成的。如果丢失了私钥，则可以使用助记词找回它。但是，如果丢失了助记词，则将无法访问所有派生的私钥。同样，如果有人获得了您的助记词访问权限，他们就可以访问所有相关帐户。

## Ledger支持账户密钥

在Ledger设备的核心，有一个用于生成私钥的助记词。初始化Ledger时，会生成助记词。

::: danger
**不要丢失或与任何人分享你的24个单词。为防止盗窃或资金损失，最好确保保留多个助记词副本，并将其存放在安全可靠的地方，并且只有您知道如何访问。如果有人能够访问您的助记词，他们将能够访问您的私钥并控制与其关联的帐户。**
:::

This mnemonic 此助记符与IRISnet兼容，用于在IRISnet网络上生成地址和交易的工具称是`iriscli`，它支持从Ledger种子派生帐户密钥。请注意，Ledger设备充当种子和私钥的保护，并且签名交易发生在其中。没有任何私人信息会在Ledger设备之外被获取。

要使用Ledger设备支持`iriscli`，你需要采取下面步骤（因为IRISnet基于cosmos-sdk，COSMOS应用程序可用于IRISnet）。

- [A Ledger Nano with the `COSMOS` app installed and an account。](#使用ledger设备)
- [A running `iris` instance connected to the network you wish to use。](../get-started/Join-the-Mainnet.md)
- [A `iriscli` instance configured to connect to your chosen `iris` instance。](./cli-client.md)

现在，您已准备好开始在网络上发送交易。

在ledger设备的核心，有一个助记词用于在多个区块链（包括IRISnet）上生成帐户。通常，在初始话ledger设备时，您将创建新的助记词。

接下来，单击[此处](#使用ledger设备)以了解如何生成帐户。

## 创建账户

要创建一个帐户，您只需要安装`iriscli`。在创建它之前，您需要知道您打算存储的位置以及与您的私钥交互。最好的选择是将它们存储在离线专用计算机或ledger设备中。将它们存储在您的常规联网的计算机上会带来更大的风险，因为任何通过互联网侵入您的计算机的人都可以泄露您的私钥并窃取您的资金。

#### 使用ledger设备

::: warning
**仅使用您购买的新设备或完全信任的Ledger设备**
:::

初始化ledger时，会生成一个24个单词的助记词并存储在设备中。此助记词与IRISnet兼容，可以从中派生出IRISnet账号。因此，您所要做的就是让您的ledger与`iriscli`兼容。为此，您需要执行以下步骤：

1. 下载Ledger Live app [这里](https://www.ledger.com/pages/ledger-live)。
2. 通过USB连接ledger并更新到最新的firmware。
3. 在ledger live应用商店中下载"COSMOS"（这可能需要一段时间）。 **注意：您可能必须在Ledger Live的`Settings`中启用`Dev Mode`才能下载"Cosmos"应用程序**。
4. 切换到ledger设备上的COSMOS应用。

然后，要创建帐户，请使用以下命令：

```bash
iriscli keys add <yourAccountName> --ledger 
```


